(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{8826:function(e,n,t){"use strict";t.d(n,{H:function(){return l}});t(7294);var r=t(3662),s=t.n(r),a=t(1664),i=t.n(a),o=t(1152),c=t(5893),l=function(e){var n=e.onClose;return(0,c.jsx)("div",{className:s().background,onClick:n,children:(0,c.jsxs)("div",{className:s().burger_menu,children:[(0,c.jsx)("button",{className:s().close,children:"X"}),o.ev.map((function(e,n){return(0,c.jsx)(i(),{href:o.p4[n],children:(0,c.jsx)("a",{className:s().button,children:e},e)},e)}))]})})}},1219:function(e,n,t){"use strict";var r=t(5893);n.Z=function(){return(0,r.jsxs)("div",{className:"loader",children:[(0,r.jsx)("div",{className:"bounce1"}),(0,r.jsx)("div",{className:"bounce2"})]})}},3754:function(e,n,t){"use strict";t.d(n,{T:function(){return y}});var r=t(29),s=t(9499),a=t(7794),i=t.n(a),o=t(7294),c=t(7357),l=t(9688),u=t(3321),d=t(5861),p=t(4649),x=t.n(p),h=t(7536),m=t(928),f=t(5893);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},y=function(e){var n=e.onClose,t=(0,o.useState)({name:"",company:"",email:"",phone:"",staff:"",location:"",website:"",comments:""}),a=t[0],p=t[1],j=(0,h.cI)(),y=j.register,Z=j.handleSubmit,b=(j.formState.errors,(0,o.useState)(!1)),_=b[0],w=b[1],O=function(e){var n=e.target,t=n.value,r=n.name;p(v(v({},a),{},(0,s.Z)({},r,t)))},k=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Z)("/public/apply",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:a.name,email:a.email,phone:a.phone,company:a.company,site:a.website,location:a.location,employees:a.staff})});case 2:w(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(l.Z,{hideBackdrop:!0,open:open,onClose:n,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",sx:{backgroundColor:"rgba(131, 131, 131, 0.26)",border:"none",backdropFilter:"blur(87px)",zIndex:{sx:"10",md:"1"}},children:(0,f.jsxs)(c.Z,{className:x().modal,children:[(0,f.jsx)("button",{className:x().close,onClick:n,children:"X"}),(0,f.jsx)("div",{className:x().image,children:(0,f.jsxs)("h3",{className:x().title__logo,children:["TYT",(0,f.jsx)("br",{}),"EDA"]})}),(0,f.jsxs)("form",{onChange:O,onSubmit:Z((function(e,n){console.log(n)})),className:x().modal__form,children:[(0,f.jsx)("h2",{className:x().title,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u0435\u0434"}),(0,f.jsxs)("div",{className:x().modal__grid,children:[(0,f.jsxs)("div",{className:x().input__card,children:[(0,f.jsxs)("span",{className:x().form__span,children:["\u0418\u043c\u044f ",(0,f.jsx)("span",{className:x().span,children:"*"})]}),(0,f.jsx)("input",v({className:x().form__input},y("name",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",minLength:{value:3,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},maxLength:{value:20,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}})))]}),(0,f.jsxs)("div",{className:x().input__card,children:[(0,f.jsxs)("span",{className:x().form__span,children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f ",(0,f.jsx)("span",{className:x().span,children:"*"})]}),(0,f.jsx)("input",v({className:x().form__input,name:"company",onChange:O},y("company",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",minLength:{value:3,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},maxLength:{value:20,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}})))]}),(0,f.jsxs)("div",{className:x().input__card,children:[(0,f.jsxs)("span",{className:x().form__span,children:["Email ",(0,f.jsx)("span",{className:x().span,children:"*"})]}),(0,f.jsx)("input",v({className:x().form__input,name:"email",onChange:O},y("email",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",pattern:{value:/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email"}})))]}),(0,f.jsxs)("div",{className:x().input__card,children:[(0,f.jsxs)("span",{className:x().form__span,children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d ",(0,f.jsx)("span",{className:x().span,children:"*"})]}),(0,f.jsx)("input",v({className:x().form__input,name:"phone",onChange:O},y("phone",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",minLength:{value:3,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},maxLength:{value:12,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}})))]}),(0,f.jsxs)("div",{className:x().input__card,children:[(0,f.jsx)("span",{className:x().form__span,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}),(0,f.jsx)("input",v({className:x().form__input,name:"staff",onChange:O},y("staff")))]}),(0,f.jsxs)("div",{className:x().input__card,children:[(0,f.jsx)("span",{className:x().form__span,children:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),(0,f.jsx)("input",v({className:x().form__input,name:"location",onChange:O},y("location")))]}),(0,f.jsxs)("div",{className:x().input__card,children:[(0,f.jsx)("span",{className:x().form__span,children:"\u0421\u0430\u0439\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),(0,f.jsx)("input",v({className:x().form__input,name:"website",onChange:O},y("website")))]}),(0,f.jsx)("button",{className:x().form__btn,onClick:function(){return k()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),(0,f.jsx)("p",{className:x().text,children:"\u0412\u044b \u0434\u0430\u0435\u0442\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"})]})]})}),(0,f.jsx)("div",{children:(0,f.jsx)(l.Z,{open:_,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,f.jsxs)(c.Z,{sx:g,children:[(0,f.jsx)(d.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\u0412\u0430\u0448\u0430 \u0437\u0430\u044f\u0432\u043a\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0430!"}),(0,f.jsx)(u.Z,{onClick:n,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})})]})}},1152:function(e,n,t){"use strict";t.d(n,{$:function(){return j},ev:function(){return m},p4:function(){return f}});var r=t(7294),s=t(3053),a=t.n(s),i=t(8826),o=t(1664),c=t.n(o),l=t(326),u=t(5573),d=(t(6513),t(7357)),p=t(5861),x=t(3754),h=t(5893),m=["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u041e\u0442\u0437\u044b\u0432\u044b","\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"],f=["/info","/reviews","/contacts"],j=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1],s=(0,r.useState)(!1),o=s[0],j=s[1],v=function(){t(!n)},g=function(){j(!o)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("section",{className:a().header__menu,children:(0,h.jsxs)("div",{className:a().nav2,children:[(0,h.jsx)(d.Z,{sx:{display:{sx:"flex",md:"none"}},children:(0,h.jsx)(l.Z,{sx:{m:2},style:{color:"#11D028"},onClick:v})}),n&&(0,h.jsx)(i.H,{onClose:v}),(0,h.jsx)(c(),{href:"/",children:(0,h.jsxs)(p.Z,{style:{fontFamily:"Nickelodeon2001headline",fontWeight:400,fontSize:"18px",lineHeight:"84.52%",letterSpacing:"0.02em",color:"#11D028",textAlign:"center",cursor:"pointer"},children:["TYT",(0,h.jsx)("br",{}),"EDA"]})}),(0,h.jsx)("div",{className:a().menu__links,children:m.map((function(e,n){return(0,h.jsx)(c(),{href:f[n],children:(0,h.jsx)("a",{className:a().button,children:e},e)},e)}))}),(0,h.jsxs)("div",{className:a().nav__links,children:[(0,h.jsx)(d.Z,{sx:{display:{xs:"block",md:"none"}},children:(0,h.jsx)(c(),{href:"/profile",children:(0,h.jsx)(u.Z,{sx:{m:2},style:{color:"#11D028"}})})}),(0,h.jsx)(c(),{href:"/profile",children:(0,h.jsx)("a",{className:"".concat(a().else," ").concat(a().else__cabinet),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})}),(0,h.jsx)("button",{onClick:g,style:{cursor:"pointer"},className:"".concat(a().else," ").concat(a().else__application),children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"}),o&&(0,h.jsx)(x.T,{onClose:g})]})]})})})};n.ZP=j},9344:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return en}});var r=t(2664),s=t(1163),a=t(7294),i=t(9499),o=t(29),c=t(7794),l=t.n(c),u=t(928),d=t(6307),p=t(1219),x=t(6886),h=t(7357),m=t(3321),f=t(5861),j=(t(3935),t(5893)),v={card:{borderRadius:"15px",background:"#F8F8F8",color:"#8A8A8A",padding:"15px"}};function g(e){var n=new Date(e),t=[r(n.getDate()),r(n.getMonth()+1),n.getFullYear()].join(".");[n.getHours(),n.getMinutes()].join(":");function r(e){return+e<10?"0"+e:e}return t}var y=function(e){var n=e.role,t=e.order,r=e.reload,s=e.setReload,i=(0,a.useState)()[1],c=(a.useCallback((function(){return i({})}),[]),function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/orders/".concat(t.order.order_id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:s(r+=1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}());function d(){return(d=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/orders/".concat(t.order.order_id,"/status"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:"completed"})});case 3:s(r+=1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function p(){return(p=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/orders/".concat(t.order.order_id,"/status"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:"ordered"})});case 3:s(r+=1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function y(){"completed"===t.order.order_status?function(){p.apply(this,arguments)}():function(){d.apply(this,arguments)}()}return(0,j.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,j.jsxs)(h.Z,{sx:{boxShadow:2,position:"relative"},style:v.card,children:[("manager"===n||"operator"===n)&&(0,j.jsxs)(h.Z,{sx:{position:"absolute",right:"15px"},children:[(0,j.jsx)(h.Z,{children:(0,j.jsx)(m.Z,{onClick:c,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})}),(0,j.jsx)(h.Z,{children:(0,j.jsx)(m.Z,{onClick:function(){return y()},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})})]}),(0,j.jsx)(f.Z,{variant:"h6",children:t.order.company_name}),(0,j.jsxs)(f.Z,{children:["\u0418\u043c\u044f: ",t.order.user_fullname]}),(0,j.jsxs)(f.Z,{children:["\u0414\u0430\u0442\u0430: ",g(t.order.order_delivery)]}),(0,j.jsxs)(f.Z,{children:[" ","\u0421\u0442\u0430\u0442\u0443\u0441:"," ","ordered"===t.order.order_status?(0,j.jsx)("b",{className:"red",children:"\u041d\u043e\u0432\u044b\u0439"}):(0,j.jsx)("b",{className:"green",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"})]}),(0,j.jsx)(f.Z,{children:"\u0417\u0430\u043a\u0430\u0437:"}),(0,j.jsx)(x.ZP,{container:!0,sx:{margin:"0 0 0 20px"},children:t.dishes.map((function(e,n){return(0,j.jsx)(x.ZP,{item:!0,xs:12,children:e.name},n)}))})]})})},Z=t(1664),b=t.n(Z);var _={setResult:d.ag,setPrint:d.kk},w=(0,r.$j)((function(e){return{orders:e.orders,result:e.result}}),_)((function(e){var n=(0,a.useState)(!1);return n[0],n[1],(0,a.useEffect)((function(){!function(){var n={1:[],2:[],3:[],4:[],5:[],6:[]};e.sortedOrders.map((function(e){return e.dishes.map((function(e){for(var t=0;t<=Object.keys(n).length;t++)e.dish_type_id===t&&n[e.dish_type_id].push(e)}))}));Object.keys(n).map((function(e){return Object.values(n[e])}))}(),function(){var n=[],t={},r={};e.sortedOrders.map((function(e){return e.dishes.map((function(e){n.push(e),r[e.dish_type_name]={}}))})),e.sortedOrders.map((function(e){return e.dishes.map((function(e){r[e.dish_type_name][e.name]=0}))})),e.sortedOrders.map((function(e){return e.dishes.map((function(e){Object.keys(r[e.dish_type_name]).map((function(n){n===e.name&&(r[e.dish_type_name][e.name]+=1)}))}))})),n.map((function(e){t["".concat(e.name)]||(t["".concat(e.name)]=[]),t["".concat(e.name)].push(e)})),e.setPrint(r)}()}),[e.sortedOrders]),(0,j.jsx)(x.ZP,{container:!0,children:(0,j.jsx)(x.ZP,{item:!0,xs:12,children:(0,j.jsx)(m.Z,{children:(0,j.jsx)(b(),{href:"/print",children:"\u041e\u0442\u0447\u0435\u0442 \u0434\u043b\u044f \u043a\u0443\u0445\u043d\u0438"})})})})})),O=t(6835),k=t(917),C=t(1496),P=t(6720),S=t(7036),N=t(9005),A=t(1733),T=t(6798),D=t(1737),E=t(7948),L=t(89),I=t(8462),R=t(891),F=t(9661);var z={removeItem:d.cl,removeCart:d.N6},M=(0,r.$j)((function(e){return{cart:e.cart,dishes:e.dishes}}),z)((function(e){var n=e.cart,t=e.dishes,r=e.removeItem,s=e.removeCart,i=(0,a.useState)(!1),c=i[0],d=i[1],p=(0,a.useState)((function(){var e=new Date,n=e.getDate(),t=e.getMonth()+1;t<10&&(t="0"+t);return e.getFullYear()+"-"+t+"-"+(n+1)})),x=p[0],v=p[1],g=(Object.keys(n).length,Object.values(n).map((function(e){return e.id})));function y(){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/orders",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({deliveredAt:x,dishes:g})});case 3:200===e.sent.status&&(s(),d(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return(0,j.jsxs)(E.Z,{children:["\u0417\u0430\u043a\u0430\u0437 \u043d\u0430:"," ",(0,j.jsx)(L.Z,{type:"date",onChange:function(e){var n=e.target.value;v(n)},value:x}),(0,j.jsx)(I.Z,{children:t.map((function(e){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(f.Z,{variant:"h6",component:"div",children:e.name}),(0,j.jsx)(R.ZP,{children:n[e.id]?(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,j.jsx)(h.Z,{children:(0,j.jsx)(F.Z,{src:n[e.id].image,sx:{marginRight:"15px"}})}),(0,j.jsx)(h.Z,{sx:{display:"flex",alignItems:"center"},children:n[e.id].name}),(0,j.jsx)(m.Z,{onClick:function(){return r(e.id)},children:(0,j.jsx)(A.Z,{})})]}):(0,j.jsx)("div",{children:"\u041f\u0443\u0441\u0442\u043e"})})]})}))}),(0,j.jsx)(m.Z,{onClick:y,disabled:!g.length,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"}),y?(0,j.jsx)(T.Z,{open:c,autoHideDuration:3e3,onClose:function(){return d(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,j.jsx)(D.Z,{onClose:function(){return d(!1)},variant:"filled",severity:"info",sx:{width:"100%"},children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0431\u044b\u043b \u043f\u0440\u0438\u043d\u044f\u0442 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443!"})}):null]})})),B=t(4353),H=t(5500),J=(0,C.ZP)("div")((function(e){var n=e.theme;return{height:"100%",backgroundColor:"light"===n.palette.mode?S.Z[100]:n.palette.background.default}})),U=(0,C.ZP)(h.Z)((function(e){return{backgroundColor:"light"===e.theme.palette.mode?"#fff":S.Z[800]}})),G=(0,C.ZP)(h.Z)((function(e){return{width:30,height:6,backgroundColor:"light"===e.theme.palette.mode?S.Z[300]:S.Z[900],borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}})),Y=(0,C.ZP)(B.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{right:-3,top:13,border:"2px solid ".concat(n.palette.background.paper),padding:"0 4px"}}}));var W=function(e){var n=e.window,t=a.useState(!1),r=(0,O.Z)(t,2),s=r[0],i=r[1],o=function(e){return function(){i(e)}},c=void 0!==n?function(){return n().document.body}:void 0;return(0,j.jsx)(J,{children:!e.modal&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(P.ZP,{}),(0,j.jsx)(k.xB,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(50% - ".concat(56,"px)"),overflow:"visible"}}}),(0,j.jsx)(h.Z,{sx:{textAlign:"center",pt:1},children:(0,j.jsx)(Y,{badgeContent:e.cartLength,color:"secondary",children:(0,j.jsx)(H.Z,{onClick:o(!0)})})}),(0,j.jsxs)(N.Z,{container:c,anchor:"bottom",open:s,onClose:o(!1),onOpen:o(!0),swipeAreaWidth:56,disableSwipeToOpen:!1,ModalProps:{keepMounted:!0},children:[(0,j.jsxs)(U,{sx:{position:"absolute",top:-56,borderTopLeftRadius:8,borderTopRightRadius:8,visibility:"visible",right:0,left:0,display:{xs:"flex",md:"none"}},children:[(0,j.jsx)(G,{}),(0,j.jsxs)(f.Z,{sx:{p:2,color:"text.secondary"},children:["\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435: ",e.cartLength," \u0448\u0442."]})]}),(0,j.jsx)(U,{sx:{px:2,pb:2,height:"100%",overflow:"auto"},children:(0,j.jsx)(M,{})})]})]})})},K=t(6242);var q={addToCart:d.Xq,setSubOrders:d.Jw,setDishes:d.gw,setDishType:d.t4},X=(0,r.$j)((function(e){return{subOrders:e.subOrders,addedProduct:e.addedProduct,dishes:e.dishes,dishType:e.dishType,cart:e.cart}}),q)((function(e){var n=Object.keys(e.cart).length,t=store.getState().user.companyId,r=(0,a.useState)(!0),s=r[0],i=r[1],c=(0,a.useState)(!1),d=c[0];if(c[1],(0,a.useEffect)((0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v();case 1:case"end":return e.stop()}}),e)}))),[]),s)return(0,j.jsx)(p.Z,{});function f(){return(f=(0,o.Z)(l().mark((function n(t){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Z)("/dishes?type=".concat(t),{method:"GET"});case 2:r=n.sent,e.setSubOrders(r.data.products),e.setDishType(t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Z)("/companies/".concat(t,"}"),{method:"GET"});case 2:r=n.sent,e.setDishes(r.data.dishesTypes),i(!1);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsxs)(h.Z,{children:[(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,j.jsx)(h.Z,{sx:{flexGrow:1},children:e.dishes?e.dishes.map((function(e){return(0,j.jsx)(m.Z,{onClick:function(){return function(e){return f.apply(this,arguments)}(e.id)},children:e.name},e.id)})):null}),(0,j.jsx)(h.Z,{sx:{display:{xs:"flex",md:"none"},justifyContent:"right"},children:(0,j.jsx)(W,{cartLength:n,modal:e.modal,setModal:e.setModal})})]}),(0,j.jsxs)(x.ZP,{container:!0,children:[(0,j.jsx)(x.ZP,{xs:12,md:8,children:(0,j.jsx)(x.ZP,{container:!0,children:e.subOrders?e.subOrders.map((function(n){return(0,j.jsx)(x.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsxs)(K.Z,{variant:"outlined",sx:{padding:"10px"},children:[(0,j.jsx)(h.Z,{children:(0,j.jsx)("img",{width:"180px",src:n.image})}),(0,j.jsx)(h.Z,{children:n.name}),(0,j.jsxs)(h.Z,{children:[n.price,"\u20bd/",n.size,"gram"===n.size_type?"\u0433\u0440.":"milliliters"===n.size_type?"\u043c\u043b.":"\u0448\u0442."]}),(0,j.jsx)(m.Z,{onClick:function(){e.addToCart(e.dishType,n.id,n.name,n.image)},sx:{marginLeft:2},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})]})},n.id)})):null})}),(0,j.jsx)(x.ZP,{md:4,sx:{display:{xs:"none",md:"flex"}},children:(0,j.jsx)(M,{})})]}),d&&0!==n?(0,j.jsx)(M,{}):null]})})})),$=t(4054),Q=t(1683),V=t(3599);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var te={setOrders:d.qQ},re=(0,r.$j)((function(e,n){return{orders:e.orders,user:e.user}}),te)((function(e){var n=e.user,t=e.orders,r=e.setOrders,s=(0,a.useState)([]),c=s[0],d=s[1],f=(0,a.useState)(0),v=f[0],g=f[1],Z=(0,a.useState)({company:"",dishes:"",status:""}),b=Z[0],_=Z[1],O=(0,a.useState)({date:"",company:"",dishes:"",status:""}),k=O[0],C=O[1],P=(0,a.useState)(!0),S=P[0],N=P[1];(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n,t,s,a,i,o,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/orders?company_id=0",{method:"GET"});case 2:return n=e.sent,e.next=5,(0,u.Z)("/dishes/types",{method:"GET"});case 5:t=e.sent,s=t.data.map((function(e){return e.name})),a=n.data.map((function(e){return e.order.company_name})),i=a.filter((function(e,n){return a.indexOf(e)==n})),o=n.data.map((function(e){return e.order.order_status})),c=o.filter((function(e,n){return o.indexOf(e)==n})),_(ne(ne({},b),{},{dishes:s,company:i,status:c})),r(n.data),N(!1);case 14:case"end":return e.stop()}}),e)}))),[d,v]),(0,a.useEffect)((function(){var e=t;k.date.length>0&&(e=e.filter((function(e){if(function(e){var n=new Date(e);function t(e){return+e<10?"0"+e:e}return[n.getFullYear(),t(n.getMonth()+1),t(n.getDate())].join("-")}(e.order.order_delivery)===k.date)return e}))),k.company.length>0&&(e=e.filter((function(e){if(e.order.company_name===k.company)return e}))),k.status.length>0&&(e=e.filter((function(e){if(e.order.order_status===k.status)return e}))),d(e)}),[k,t]);var A=function(e,n){var t=n.target.innerText;C(ne(ne({},k),{},(0,i.Z)({},e,t)))};if(S)return(0,j.jsx)(p.Z,{});function T(e){return new Date(e).getTime()}var D=c.slice().sort((function(e,n){return T(n.order.order_delivery)-T(e.order.order_delivery)}));return(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",m:5},children:[(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsx)(x.ZP,{container:!0,children:(0,j.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,j.jsxs)($.Z,{variant:"standard",sx:{ml:2,minWidth:200},children:["\u0414\u0430\u0442\u0430:",(0,j.jsx)(L.Z,{type:"date",onChange:function(e){var n=e.target.value;C(ne(ne({},k),{},{date:n}))},value:k.date})]}),("manager"===n.role||"operator"===n.role)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)($.Z,{variant:"standard",sx:{ml:2,minWidth:200},children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f:",(0,j.jsx)(Q.Z,{onChange:function(){return A("company",event)},value:k.company,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:b.company.map((function(e){return(0,j.jsx)(V.Z,{value:e,children:e},e)}))})]}),(0,j.jsxs)($.Z,{variant:"standard",sx:{ml:2,minWidth:200},children:["\u0421\u0442\u0430\u0442\u0443\u0441:",(0,j.jsx)(Q.Z,{onChange:function(){return A("status",event)},value:k.status,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:b.status.map((function(e){return(0,j.jsx)(V.Z,{value:e,children:e},e)}))})]}),(0,j.jsx)(m.Z,{onClick:function(){C({date:"",company:"",dishes:"",status:""}),d(t)},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})]})]})})}),(0,j.jsx)(E.Z,{children:("manager"===n.role||"operator"===n.role)&&(0,j.jsx)(w,{sortedOrders:D})}),(0,j.jsx)(E.Z,{children:(0,j.jsx)(x.ZP,{container:!0,spacing:2,children:D.map((function(e,t){return(0,j.jsx)(y,{role:n.role,order:e,reload:v,setReload:g},t)}))})})]})})),se=t(9197),ae=t(3946),ie=t(9688);function oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oe(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var le={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,borderRadius:"15px",p:4,height:"auto",maxHeight:"60%",overflow:"scroll",display:"flex",flexDirection:"column",alignItems:"center"};var ue=function(e){var n=e.companyId,t=e.reLoad,r=e.setReLoad,s=(0,a.useState)(!1),i=s[0],c=s[1],d=(0,a.useState)(!1),p=d[0],x=d[1],f=(0,a.useState)(!1),v=f[0],g=f[1],y=function(){return g(!1)},Z=(0,a.useState)(null),b=Z[0],_=Z[1],w=(0,a.useState)(""),O=w[0],k=w[1],C=(0,a.useState)({name:"",users:[]}),P=C[0],S=C[1],N=(0,a.useState)({name:"",password:"",fullName:""}),E=N[0],I=N[1],R=function(){var e=(0,o.Z)(l().mark((function e(s){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/companies/".concat(n,"/users"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:s})});case 3:r(t+1),M(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/companies/".concat(n,"/changePassword"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:O,userId:t})});case 3:M(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(!0);case 9:_(null),k("");case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/companies/".concat(n,"/users/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:E.name,password:E.password,full_name:E.fullName,role:"admin"})});case 3:y(),r(t+1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.Z)(l().mark((function e(){var t,r,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/companies/".concat(n),{method:"GET"});case 2:t=e.sent,r=t.data.name,s=t.data.users,S({name:r,users:s});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Z,{onClick:function(){x(!0),M()},children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"}),(0,j.jsx)(m.Z,{onClick:function(){return g(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0430"}),(0,j.jsx)(ie.Z,{open:p,onClose:function(){return x(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(h.Z,{sx:le,children:[(0,j.jsxs)(h.Z,{children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",P.name]}),(0,j.jsxs)(h.Z,{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438:",P.users.map((function(e,n){return(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,j.jsxs)(h.Z,{sx:{display:"flex"},children:[(0,j.jsxs)("p",{style:{width:"200px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,j.jsxs)("span",{style:{marginBottom:"5px"},children:["\u0420\u043e\u043b\u044c: ",e.role]}),(0,j.jsxs)("span",{style:{marginBottom:"5px"},children:["\u041b\u043e\u0433\u0438\u043d: ",e.username]})," ",(0,j.jsxs)("span",{children:["\u0418\u043c\u044f: ",e.full_name]})," "]}),(0,j.jsx)(m.Z,{onClick:function(){return n=e.id,void _(n);var n},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,j.jsx)(ae.Z,{onClick:function(){return R(e.id)},component:"span",children:(0,j.jsx)(A.Z,{})})]}),e.id===b&&(0,j.jsxs)(h.Z,{children:[(0,j.jsx)(L.Z,{type:"text",sx:{margin:"0 20px 0 0"},value:O,onChange:function(e){k(e.target.value)}}),(0,j.jsx)(m.Z,{type:"button",onClick:function(){return F(e.id)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]},n)}))]})]})}),(0,j.jsx)(ie.Z,{open:v,onClose:y,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(h.Z,{sx:le,children:[(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;I(ce(ce({},E),{},{name:n}))},placeholder:"User"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;I(ce(ce({},E),{},{password:n}))},placeholder:"Password"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;I(ce(ce({},E),{},{fullName:n}))},placeholder:"Name"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(m.Z,{onClick:z,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})}),(0,j.jsx)(T.Z,{open:i,autoHideDuration:3e3,onClose:function(){return c(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,j.jsx)(D.Z,{onClose:function(){return c(!1)},severity:"info",sx:{width:"100%"},children:"\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u0430\u0434\u043c\u0438\u043d\u0430"})})]})},de={card:{textAlign:"center",borderRadius:"15px",background:"#F8F8F8",color:"#8A8A8A",padding:"15px"}};var pe=function(e){var n=e.company,t=e.reLoad,r=e.setReLoad,s=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/companies/".concat(n.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:r(t+1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,j.jsxs)(h.Z,{sx:{boxShadow:2},style:de.card,children:[(0,j.jsx)("div",{children:null!==n.image?(0,j.jsx)("img",{width:"200px",src:n.image,alt:"logo company"},n.id):(0,j.jsx)(se.Z,{style:{width:"200px",height:"200px"}},n.id)}),(0,j.jsx)("div",{children:n.name}),(0,j.jsxs)("div",{children:["\u041a\u043e\u043b-\u0432\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",n.orders.length]}),(0,j.jsxs)("div",{children:["\u041a\u043e\u043b-\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432: ",n.users.length]}),(0,j.jsx)(ue,{companyId:n.id,reLoad:t,setReLoad:r}),(0,j.jsx)(m.Z,{onClick:s,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"})]})})},xe=t(9368),he=t(1170);function me(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?me(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var je={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,borderRadius:"15px",p:4,textAlign:"center"},ve=(0,C.ZP)("input")({display:"none"});var ge=function(e){e.menu,e.setMenuN;var n=e.reLoad,t=e.setReLoad,r=(0,a.useState)(!1),s=r[0],i=r[1],c=function(){return i(!1)},d=(0,a.useState)([]),p=d[0],f=d[1],v=(0,a.useState)({name:"",username:"",image:"",dishesTypes:[],full_name:""}),g=v[0],y=v[1],Z={inputProps:{"aria-label":"Checkbox demo"}};(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/dishes/types",{method:"GET"});case 2:n=e.sent,f(n.data);case 4:case"end":return e.stop()}}),e)}))),[f]);var b=function(){var e=(0,o.Z)(l().mark((function e(r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/companies",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:g.name,dishesTypes:g.dishesTypes,user:{username:g.username,full_name:g.full_name},image:g.image})});case 3:t(n+1),c(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),_=function(e){var n=document.getElementById("allCheckbox").querySelectorAll("input"),t=Array.from(n).filter((function(e){return e.checked})).map((function(e){return e.value}));y(fe(fe({},g),{},{dishesTypes:t}))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Z,{onClick:function(){return i(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}),(0,j.jsx)(ie.Z,{open:s,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(h.Z,{sx:je,children:[(0,j.jsxs)(h.Z,{sx:{mt:2},children:[(0,j.jsx)("div",{id:"photo"}),(0,j.jsxs)("label",{htmlFor:"icon-button-file",children:[(0,j.jsx)(ve,{onChange:function(e){var n=e.target.files,t=new FileReader;t.onloadend=function(){var e=t.result.split(","),n=document.getElementById("photo");n.innerHTML=" ";var r=document.createElement("img");r.style.width="200px",r.src=t.result,n.append(r),y(fe(fe({},g),{},{image:e[1]}))},t.readAsDataURL(n[0])},accept:"image/*",id:"icon-button-file",type:"file"}),(0,j.jsx)(ae.Z,{color:"primary","aria-label":"upload picture",component:"span",children:(0,j.jsx)(he.Z,{})})]})]}),(0,j.jsx)(x.ZP,{id:"allCheckbox",container:!0,sx:{mt:2,display:"flex",flexDirection:"row"},children:p.map((function(e){return(0,j.jsxs)(x.ZP,{item:!0,xs:6,md:4,lg:2,sx:{pl:1,pr:1},children:[(0,j.jsx)(h.Z,{children:(0,j.jsx)(xe.Z,fe({onChange:_,value:e.id},Z))}),(0,j.jsx)(h.Z,{children:e.name})]})}))}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;y(fe(fe({},g),{},{name:n}))},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;y(fe(fe({},g),{},{full_name:n}))},placeholder:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;y(fe(fe({},g),{},{username:n}))},placeholder:"\u041b\u043e\u0433\u0438\u043d"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(m.Z,{onClick:b,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})]})};var ye={setCompanies:d.Uv},Ze=(0,r.$j)((function(e,n){return{companies:e.companies}}),ye)((function(e){var n=e.companies,t=e.setCompanies,r=(0,a.useState)(0),s=r[0],i=r[1],c=(0,a.useState)(0),d=c[0],m=c[1],f=(0,a.useState)(!0),v=f[0],g=f[1];return(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/companies",{method:"GET",headers:{}});case 2:n=e.sent,t(n.data),i(n.data),g(!1);case 6:case"end":return e.stop()}}),e)}))),[t,d]),v?(0,j.jsx)(p.Z,{}):(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsx)(x.ZP,{container:!0,children:(0,j.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,j.jsx)(L.Z,{onChange:function(e){var t=e.target.value,r=n.filter((function(e){if(-1!==e.name.toLowerCase().indexOf(t.toLowerCase()))return e}));i(r)},placeholder:"\u041f\u043e\u0438\u0441\u043a"}),(0,j.jsx)(ge,{reLoad:d,setReLoad:m,setLoading:g})]})})}),(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsx)(x.ZP,{container:!0,spacing:2,gridTemplateColumns:"1fr",children:s.map((function(e){return(0,j.jsx)(pe,{reLoad:d,setReLoad:m,company:e},e.id)}))})})]})})),be=t(7720),_e={box:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},name:{paddingLeft:"10px",flexGrow:1}};var we=function(e){var n=e.reLoad,t=e.setReLoad,r=e.dish,s=function(){var e=(0,o.Z)(l().mark((function e(r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/dishes/".concat(r),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:200===e.sent.status&&t(n+1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{style:_e.box,children:[(0,j.jsx)("div",{children:(0,j.jsx)(F.Z,{src:r.image})}),(0,j.jsx)("div",{style:_e.name,children:r.name}),(0,j.jsxs)("div",{children:[r.price,"\u20bd/"]}),(0,j.jsxs)("div",{children:[r.size,"gram"===r.size_type?"\u0433\u0440.":"milliliters"===r.size_type?"\u043c\u043b.":"\u0448\u0442."]}),(0,j.jsx)("div",{children:(0,j.jsx)(ae.Z,{onClick:function(){return s(r.id)},component:"span",children:(0,j.jsx)(A.Z,{})})})]}),(0,j.jsx)(be.Z,{light:!0})]})},Oe={card:{background:"#F8F8F8",color:"#000",padding:"15px"}};var ke=function(e){var n=e.dishes,t=e.reLoad,r=e.setReLoad;return(0,j.jsx)(x.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsxs)(h.Z,{sx:{boxShadow:2},style:Oe.card,children:[(0,j.jsx)(f.Z,{variant:"h6",sx:{textAlign:"center"},children:n.name}),n.dishes.map((function(e,n){return(0,j.jsx)(we,{reLoad:t,setReLoad:r,dish:e},e.id)}))]})})},Ce=t(6872),Pe=t(2890),Se=t(480);function Ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Te={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,borderRadius:"15px",p:4},De=(0,C.ZP)("input")({display:"none"});var Ee=function(e){var n=e.menu,t=(e.setMenuN,(0,a.useState)(!1)),r=t[0],s=t[1],i=(0,a.useState)(!1),c=i[0],d=i[1],p=(0,a.useState)({name:"",type:null,price:null,image:"",size:null,size_type:""}),x=p[0],f=p[1],v=(0,a.useState)([]),g=v[0],y=v[1];(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/dishes/types",{method:"GET"});case 2:n=e.sent,y(n.data);case 4:case"end":return e.stop()}}),e)}))),[y]);var Z=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/dishes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:x.name,menu:n,type:x.type,price:x.price,image:x.image,size:x.size,size_type:x.size_type})});case 3:200===e.sent.status&&s(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return g.length<1?(0,j.jsx)(j.Fragment,{children:"Error"}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Z,{onClick:function(){return d(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043b\u044e\u0434\u043e"}),(0,j.jsx)(ie.Z,{open:c,onClose:function(){return d(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(h.Z,{sx:Te,children:[(0,j.jsxs)(h.Z,{sx:{mt:2},children:[(0,j.jsx)("div",{id:"photo"}),(0,j.jsxs)("label",{htmlFor:"icon-button-file",children:[(0,j.jsx)(De,{onChange:function(e){var n=e.target.files,t=new FileReader;t.onloadend=function(){var e=t.result.split(","),n=document.getElementById("photo");n.innerHTML=" ";var r=document.createElement("img");r.style.width="200px",r.src=t.result,n.append(r),f(Ae(Ae({},x),{},{image:e[1]}))},t.readAsDataURL(n[0])},accept:"image/*",id:"icon-button-file",type:"file"}),(0,j.jsx)(ae.Z,{color:"primary","aria-label":"upload picture",component:"span",children:(0,j.jsx)(he.Z,{})})]})]}),(0,j.jsxs)(h.Z,{sx:{mt:2},children:["\u041c\u0435\u043d\u044e: ",n]}),(0,j.jsx)($.Z,{variant:"standard",sx:{mt:2,minWidth:200},children:(0,j.jsxs)(Q.Z,{value:x.type,displayEmpty:!0,inputProps:{"aria-label":"Without label"},onChange:function(e){var n=e.target.value;f(Ae(Ae({},x),{},{type:n}))},children:[(0,j.jsx)(V.Z,{disabled:!0,value:"",children:(0,j.jsx)("em",{children:"\u0422\u0438\u043f \u0431\u043b\u044e\u0434\u0430"})}),g.map((function(e){return(0,j.jsx)(V.Z,{value:e.id,children:e.name},e.id)}))]})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;f(Ae(Ae({},x),{},{name:n}))},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;f(Ae(Ae({},x),{},{size:n}))},placeholder:"\u0420\u0430\u0437\u043c\u0435\u0440"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)($.Z,{children:(0,j.jsxs)(Pe.Z,{onChange:function(e){var n=e.target.value;f(Ae(Ae({},x),{},{size_type:n}))},row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",children:[(0,j.jsx)(Se.Z,{value:"milliliters",control:(0,j.jsx)(Ce.Z,{}),label:"\u043c\u043b"}),(0,j.jsx)(Se.Z,{value:"gram",control:(0,j.jsx)(Ce.Z,{}),label:"\u0433\u0440"}),(0,j.jsx)(Se.Z,{value:"pieces",control:(0,j.jsx)(Ce.Z,{}),label:"\u0448\u0442"})]})})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(L.Z,{onChange:function(e){var n=e.target.value;f(Ae(Ae({},x),{},{price:n}))},placeholder:"\u0426\u0435\u043d\u0430"})}),(0,j.jsx)(h.Z,{sx:{mt:2},children:(0,j.jsx)(m.Z,{onClick:Z,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})}),(0,j.jsx)(T.Z,{open:r,autoHideDuration:3e3,onClose:function(){return s(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,j.jsx)(D.Z,{onClose:function(){return s(!1)},severity:"info",sx:{width:"100%"},children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"})})]})};var Le={setMenu:d.K0},Ie=(0,r.$j)((function(e,n){return{menu:e.menu}}),Le)((function(e){var n=e.menu,t=e.setMenu,r=(0,a.useState)(0),s=r[0],i=r[1],c=(0,a.useState)(1),d=c[0],f=c[1],v=(0,a.useState)(null),g=v[0],y=v[1],Z=(0,a.useState)(!0),b=Z[0],_=Z[1];(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/dishes?menu=".concat(d),{method:"GET"});case 2:n=e.sent,t(n.data),_(!1);case 5:case"end":return e.stop()}}),e)}))),[d,s]),(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/public/currentMenu",{method:"GET"});case 2:n=e.sent,y(n.data);case 4:case"end":return e.stop()}}),e)}))),[d,s]);var w=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/dishes/setMenu",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({menu:d})});case 2:e.sent,i(s+1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b?(0,j.jsx)(p.Z,{}):(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsx)(x.ZP,{container:!0,children:(0,j.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,j.jsxs)(h.Z,{children:["\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e: ",g]}),(0,j.jsx)($.Z,{variant:"standard",children:(0,j.jsxs)(Q.Z,{placeholder:"\u041c\u0435\u043d\u044e",value:d,displayEmpty:!0,inputProps:{"aria-label":"Without label"},onChange:function(e){var n=e.target.value;f(n)},children:[(0,j.jsx)(V.Z,{value:1,children:"\u041c\u0435\u043d\u044e 1"}),(0,j.jsx)(V.Z,{value:2,children:"\u041c\u0435\u043d\u044e 2"}),(0,j.jsx)(V.Z,{value:3,children:"\u041c\u0435\u043d\u044e 3"}),(0,j.jsx)(V.Z,{value:4,children:"\u041c\u0435\u043d\u044e 4"})]})}),(0,j.jsx)(m.Z,{onClick:w,children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c"}),(0,j.jsx)(Ee,{setMenuN:f,menu:d}),(0,j.jsx)(m.Z,{onClick:function(){return i(s+1)},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})})}),(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsx)(x.ZP,{container:!0,spacing:2,children:n.map((function(e){return(0,j.jsx)(ke,{dishes:e,reLoad:s,setReLoad:i},e.id)}))})})]})}));var Re=function(){var e=(0,a.useState)(null),n=e[0],t=e[1],r=(0,a.useState)(void 0);return r[0],r[1],(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/stats",{method:"GET"});case 2:n=e.sent,t(n.data);case 4:case"end":return e.stop()}}),e)}))),[]),null===n?(0,j.jsx)(p.Z,{}):(0,j.jsxs)(E.Z,{maxWidth:"lg",sx:{m:5},children:[(0,j.jsxs)(h.Z,{sx:{mt:1},children:[(0,j.jsx)(f.Z,{variant:"h5",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438:"}),(0,j.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439: ",n.main.companies.count]}),(0,j.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",n.main.orders.count]}),(0,j.jsxs)("div",{children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",n.main.orders.price]}),(0,j.jsx)(x.ZP,{container:!0,children:n.companies.map((function(e){return(0,j.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,j.jsxs)(h.Z,{sx:{m:1,p:1,boxShadow:2},children:[(0,j.jsx)(f.Z,{variant:"h6",children:e.company_name}),(0,j.jsxs)("div",{children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",e.price]}),(0,j.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",e.orders]})]})},e.id)}))})]}),(0,j.jsxs)(h.Z,{sx:{mt:1},children:[(0,j.jsx)(f.Z,{variant:"h5",children:"\u0411\u043b\u044e\u0434\u0430:"}),(0,j.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",n.main.orders.count]}),(0,j.jsxs)("div",{children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",n.main.orders.price]}),(0,j.jsx)(x.ZP,{container:!0,children:n.orders.map((function(e,n){return(0,j.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,j.jsxs)(h.Z,{sx:{m:1,p:1,boxShadow:2},children:[(0,j.jsx)(f.Z,{variant:"h6",children:e.type.name}),e.dishes.map((function(e,n){return(0,j.jsxs)(h.Z,{children:[(0,j.jsx)(be.Z,{}),(0,j.jsxs)(h.Z,{sx:{m:1,p:1},children:[(0,j.jsx)("div",{children:e.name}),(0,j.jsxs)("div",{children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432: ",e.price]}),(0,j.jsxs)("div",{children:["\u041a\u043e\u043b-\u0432\u043e: ",e.count]})]})]},n)}))]})},n)}))})]})]})},Fe=t(7957),ze=t(6400);function Me(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Be(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Me(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var He=(0,r.$j)((function(e,n){return{companyId:e.user.companyId}}))((function(e){var n=e.companyId,t=(0,a.useState)(!0),r=t[0],s=t[1],i=(0,a.useState)([]),c=i[0],d=i[1],v=(0,a.useState)(0),g=v[0],y=v[1],Z=(0,a.useState)(null),b=Z[0],_=Z[1],w=(0,a.useState)(""),O=w[0],k=w[1],C=(0,a.useState)({name:"",password:"",fullName:""}),P=C[0],S=C[1];if((0,a.useEffect)((0,o.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/companies/".concat(n),{method:"GET",headers:{}});case 2:t=e.sent,r=t.data.users.filter((function(e){return"company_user"===e.role})),d(r),s(!1);case 6:case"end":return e.stop()}}),e)}))),[g]),r)return(0,j.jsx)(p.Z,{});var N=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/companies/".concat(n,"/users/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:P.name,password:P.password,full_name:P.fullName,role:"user"})});case 3:y(g+1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:S({name:"",password:"",fullName:""});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,(0,u.Z)("/companies/".concat(n,"/users/"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:t})});case 4:y(g+1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/companies/".concat(n,"/changePassword"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:O,userId:t})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:k(""),_(null);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsxs)(E.Z,{sx:{m:5},children:[(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",width:"200px",border:"1px solid #1976d2",borderRadius:"10px",padding:"20px"},children:[(0,j.jsx)(L.Z,{sx:{marginBottom:"10px"},type:"text",value:P.name,name:"name",onChange:function(e){return function(e){var n=e.target.value;S(Be(Be({},P),{},{name:n}))}(e)},placeholder:"\u041b\u043e\u0433\u0438\u043d"}),(0,j.jsx)(L.Z,{sx:{marginBottom:"10px"},type:"text",value:P.password,name:"password",onChange:function(e){return function(e){var n=e.target.value;S(Be(Be({},P),{},{password:n}))}(e)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,j.jsx)(L.Z,{type:"text",value:P.fullName,name:"full_name",onChange:function(e){return function(e){var n=e.target.value;S(Be(Be({},P),{},{fullName:n}))}(e)},placeholder:"\u0418\u043c\u044f"}),(0,j.jsx)(m.Z,{sx:{marginTop:"20px"},onClick:function(){return N()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),(0,j.jsx)(x.ZP,{grid:!0,container:!0,gridTemplateColumns:"1fr",sx:{margin:"30px 0 0 0",gap:"15px"},children:c.map((function(e){return(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",border:"1px solid #bbbbbb",padding:"20px 30px",borderRadius:"10px",width:"200px",overflow:"hidden",position:"relative",height:"90px"},children:[(0,j.jsx)(ae.Z,{onClick:function(){return T(e.id)},component:"span",sx:{position:"absolute",top:"10px",right:"10px",zIndex:"1"},children:(0,j.jsx)(A.Z,{})}),(0,j.jsx)(ae.Z,{onClick:function(){return n=e.id,void _(n);var n},component:"span",sx:{position:"absolute",right:"10px",top:"45px",zIndex:"1"},children:(0,j.jsx)(Fe.Z,{})}),(0,j.jsxs)(f.Z,{sx:{margin:" 0 0 10px 0 "},children:["\u041b\u043e\u0433\u0438\u043d: ",e.username]}),(0,j.jsxs)(f.Z,{children:["\u0418\u043c\u044f: ",e.full_name]}),e.id===b&&(0,j.jsxs)(h.Z,{sx:{marginTop:"10px",display:"flex",position:"relative"},children:[(0,j.jsx)(L.Z,{type:"text",value:O,onChange:function(e){return k(e.target.value)},name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",sx:{width:"150px"}}),(0,j.jsx)(ae.Z,{onClick:function(){return D(e.id)},component:"span",sx:{position:"absolute",right:"-20px",zIndex:"1"},children:(0,j.jsx)(ze.Z,{})})]})]})}))})]})}));function Je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Je(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ge=function(){var e=(0,a.useState)({name:"",password:"",oldPassword:"",repeatPassword:"",fullName:""}),n=e[0],t=e[1],r=(0,a.useState)({}),s=r[0],i=r[1],c=(0,a.useState)(!1),d=(c[0],c[1]),p=(0,a.useState)(!1),x=(p[0],p[1]),v=(0,a.useState)(0),g=v[0],y=v[1];(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/profile",{method:"GET",headers:{}});case 2:n=e.sent,i(n.data);case 4:case"end":return e.stop()}}),e)}))),[g]);console.log(s);var Z=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/profile",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:n.name,action:"changeUsername"})});case 3:y(g+1),x(!1),t(Ue(Ue({},n),{},{name:""})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/profile",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({action:"changeFullname",full_name:n.fullName})});case 3:y(g+1),d(!1),t(Ue(Ue({},n),{},{fullName:""})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=(0,a.useState)(!1),w=(_[0],_[1]),O=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s.password!==s.repeatPassword){e.next=9;break}return w(!1),e.next=5,(0,u.Z)("/profile",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({action:"changePassword",currentPassword:n.oldPassword,password:n.password,repeatPassword:n.repeatPassword})});case 5:s.oldPassword="",t(Ue(Ue({},n),{},{oldPassword:"",password:"",repeatPassword:""})),e.next=10;break;case 9:w(!0);case 10:y(g+1),i(Ue(Ue({},s),{},{oldPassword:""})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsxs)(h.Z,{sx:{width:{xs:"300px",md:"auto"},margin:"0 auto"},children:[(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"start",md:"center"},marginBottom:"15px"},children:[(0,j.jsxs)(f.Z,{sx:{width:"200px"},children:["\u0418\u043c\u044f: ",s.full_name]}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(L.Z,{sx:{marginLeft:{xs:0,md:"20px"},width:"200px"},type:"text",value:n.fullName,onChange:function(e){var r=e.target.value;t(Ue(Ue({},n),{},{fullName:r}))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"}),(0,j.jsx)(m.Z,{onClick:function(){return b()},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f"})]})]}),(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"start",md:"center"},marginBottom:"15px"},children:[(0,j.jsxs)(f.Z,{sx:{width:"200px"},children:["\u041b\u043e\u0433\u0438\u043d: ",s.username]}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(L.Z,{sx:{marginLeft:{xs:0,md:"20px"},width:"200px"},type:"text",value:n.username,onChange:function(e){var r=e.target.value;t(Ue(Ue({},n),{},{name:r}))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}),(0,j.jsx)(m.Z,{onClick:function(){return Z()},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d"})]})]}),(0,j.jsxs)(h.Z,{children:[(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"start",md:"center"},margin:" 20px 0 15px 0"},children:[(0,j.jsx)(f.Z,{sx:{width:"200px"},children:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,j.jsx)(L.Z,{sx:{marginLeft:{xs:0,md:"20px"},width:"200px"},type:"text",value:n.oldPassword,onChange:function(e){var r=e.target.value;t(Ue(Ue({},n),{},{oldPassword:r}))},placeholder:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"start",md:"center"},margin:" 0 0 15px 0"},children:[(0,j.jsx)(f.Z,{sx:{width:"200px"},children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,j.jsx)(L.Z,{sx:{marginLeft:{xs:0,md:"20px"},width:"200px"},type:"text",value:n.password,onChange:function(e){var r=e.target.value;t(Ue(Ue({},n),{},{password:r}))},placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"start",md:"center"}},children:[(0,j.jsx)(f.Z,{sx:{width:"200px"},children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,j.jsx)(L.Z,{sx:{marginLeft:{xs:0,md:"20px"},width:"200px"},type:"text",value:n.repeatPassword,onChange:function(e){var r=e.target.value;t(Ue(Ue({},n),{},{repeatPassword:r}))},placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,j.jsx)(m.Z,{sx:{margin:"0 0 0 auto"},onClick:function(){return O()},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})};var Ye=function(){var e=(0,a.useState)([]),n=e[0],t=e[1],r=(0,a.useState)(0),s=r[0],i=r[1];(0,a.useEffect)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("/reviews",{method:"GET"});case 2:n=e.sent,t(n.data);case 4:case"end":return e.stop()}}),e)}))),[s]);var c=function(){var e=(0,o.Z)(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/reviews/".concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:t=s,i(t+=1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/reviews/".concat(n,"/publish"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:t=s,i(t+=1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return n.length<1?(0,j.jsx)(j.Fragment,{children:"loading"}):(0,j.jsx)(E.Z,{sx:{m:5},children:(0,j.jsx)(x.ZP,{container:!0,spacing:2,children:n.map((function(e){return(0,j.jsx)(x.ZP,{item:!0,xs:12,children:(0,j.jsxs)(h.Z,{sx:{boxShadow:3,p:3,background:"white"},children:[(0,j.jsx)("div",{children:e.name}),(0,j.jsx)("div",{children:e.company}),(0,j.jsx)("div",{children:e.comment}),(0,j.jsxs)("div",{children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",e.rating]}),(0,j.jsx)(m.Z,{onClick:function(){return c(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),(0,j.jsx)(m.Z,{onClick:function(){return d(e.id)},children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})}))})})};var We=function(e){var n,t=e.modal,r=e.setModal,s=e.page;return"\u0417\u0430\u043a\u0430\u0437\u044b"===s?n=(0,j.jsx)(re,{}):"\u041c\u0435\u043d\u044e"===s?n=(0,j.jsx)(Ie,{}):"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"===s?n=(0,j.jsx)(Ze,{}):"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"===s?n=(0,j.jsx)(Re,{}):"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"===s?n=(0,j.jsx)(X,{modal:t,setModal:r}):"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"===s?n=(0,j.jsx)(He,{}):"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"===s?n=(0,j.jsx)(Ge,{}):"\u041e\u0442\u0437\u044b\u0432\u044b"===s&&(n=(0,j.jsx)(Ye,{})),(0,j.jsx)(j.Fragment,{children:n})},Ke=t(326),qe=t(7533),Xe={h1:{fontWeight:800,fontSize:"64px",lineHeight:"84.52%",letterSpacing:"-0.02em",color:"#2A2A2A",marginBottom:"10px"},button:{padding:"10px",fontWeight:600,fontSize:"18px",lineHeight:"84.52%",textAlign:"left",letterSpacing:"-0.02em",color:"white",border:"none",height:"38px",background:"transparent"},buttonD:{padding:"10px",fontWeight:600,fontSize:"18px",lineHeight:"84.52%",textAlign:"left",letterSpacing:"-0.02em",color:"white",border:"none",height:"38px",background:"rgb(72,72,72)"},buttonActive:{padding:"10px",fontWeight:600,fontSize:"18px",lineHeight:"84.52%",textAlign:"left",letterSpacing:"-0.02em",color:"black",border:"none",borderRadius:"24.5px",width:"100%",height:"38px",background:"#f4f4f4"},closeBtn:{border:"none",outline:"none",background:"none",color:"#11D028",position:"absolute",top:"5px",right:"5px"},menu:{flexDirection:"column",background:"#48484A",padding:"20px","justify\u0421ontent":" space-around"}};var $e={exit:d.JF},Qe=(0,r.$j)((function(e){return{user:e.user}}),$e)((function(e){var n=e.exit,t=e.user,r=[];"manager"===t.role?r=["\u0417\u0430\u043a\u0430\u0437\u044b","\u041c\u0435\u043d\u044e","\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","\u041e\u0442\u0437\u044b\u0432\u044b"]:"operator"===t.role?r=["\u0417\u0430\u043a\u0430\u0437\u044b","\u041c\u0435\u043d\u044e"]:"company_admin"===t.role?r=["\u0417\u0430\u043a\u0430\u0437\u044b","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"]:"company_user"!==t.role||(r=["\u0417\u0430\u043a\u0430\u0437\u044b","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437","\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]);var i=(0,s.useRouter)(),o=(0,a.useState)("\u0417\u0430\u043a\u0430\u0437\u044b"),c=o[0],l=o[1],u=(0,a.useState)(!1),d=u[0],p=u[1],x=function(e,n){l(n.target.innerHTML)},f=function(){localStorage.clear(),n(),i.push("/")},v=function(){p(!d)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",margin:{xs:"20px 0 0 0"}},children:[(0,j.jsx)(Ke.Z,{sx:{display:{xs:"flex",md:"none"},color:"rgb(17, 208, 40)",margin:"0 0 -5px 0"},onClick:v}),d&&(0,j.jsxs)(qe.ZP,{anchor:"left",open:open,onClose:v,style:Xe.box,sx:{zIndex:"9999"},children:[(0,j.jsx)("button",{onClick:v,style:Xe.closeBtn,children:"X"}),(0,j.jsx)("br",{}),r.map((function(e,n){return c===e?(0,j.jsx)("button",{value:e,onClick:function(){return x(0,event)},style:Xe.buttonActive,children:e},e):(0,j.jsx)("button",{value:e,onClick:function(){return x(0,event)},style:Xe.buttonD,children:e},e)}))]}),(0,j.jsx)(m.Z,{sx:{display:{xs:"block",md:"none"}},onClick:f,children:"\u0412\u044b\u0439\u0442\u0438"})]}),(0,j.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,j.jsxs)(h.Z,{style:Xe.menu,sx:{display:{xs:"none",md:"flex"}},children:[r.map((function(e,n){return c===e?(0,j.jsx)("button",{value:e,onClick:function(){return x(0,event)},style:Xe.buttonActive,children:e},e):(0,j.jsx)("button",{value:e,onClick:function(){return x(0,event)},style:Xe.button,children:e},e)})),(0,j.jsx)(m.Z,{onClick:f,children:"\u0412\u044b\u0439\u0442\u0438"})]}),(0,j.jsx)(We,{modal:d,setModal:p,page:c})]})]})})),Ve=t(1152);var en=(0,r.$j)((function(e,n){return{user:e.user}}))((function(e){e.user;var n=(0,s.useRouter)(),t=(0,a.useState)(!0),r=t[0],i=t[1];return(0,a.useEffect)((function(){localStorage.getItem("access_token")?i(!1):n.push("/login")})),r?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ve.ZP,{}),(0,j.jsx)(p.Z,{})]}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(Qe,{})})}))},6307:function(e,n,t){"use strict";t.d(n,{JF:function(){return s},Jw:function(){return c},K0:function(){return o},N6:function(){return d},Uv:function(){return a},Xq:function(){return l},ag:function(){return h},av:function(){return r},cl:function(){return u},gw:function(){return p},kk:function(){return m},qQ:function(){return i},t4:function(){return x}});t(928);var r=function(e){return{user:e,type:"setUser"}},s=function(){return{type:"exit"}},a=function(e){return{companies:e,type:"setCompanies"}},i=function(e){return{orders:e,type:"setOrders"}},o=function(e){return{menu:e,type:"setMenu"}},c=function(e){return{subOrders:e,type:"setSubOrders"}},l=function(e,n,t,r){return{productType:e,addedProduct:n,productName:t,productImg:r,type:"addToCart"}},u=function(e){return{dishTypeID:e,type:"removeItem"}},d=function(){return{type:"removeCart"}},p=function(e){return{dishes:e,type:"setDishes"}},x=function(e){return{dishType:e,type:"setDishType"}},h=function(e){return{result:e,type:"setResult"}},m=function(e){return{print:e,type:"setPrint"}}},3962:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(9344)}])},6513:function(e,n){"use strict";n.Z={src:"/_next/static/media/account.d4bb7b5d.png",height:30,width:27,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAYAAAA1BOUGAAAAjElEQVR42mMAAYELGpJAPFXgvHqH4Hn1HoHzahwMMAAULBI4r2EMYgPpECA/GlmyQfCCugyILXhewxaoIAdZUg0oMAlIxwHpiYLn1DmhEhqOQAwUVBcHYncglgDiXKBJygxAxnSgpDIDEgCK2QJxK4jRjCSOrKAfRHQBdXYD6TYgbgeyW4D0RIHz6iUA7lU06izHuI4AAAAASUVORK5CYII="}},3662:function(e){e.exports={background:"BM_background___D1_x",close:"BM_close__Y2Kcd",burger_menu:"BM_burger_menu__ClUDi",button:"BM_button__NxBt8"}},3053:function(e){e.exports={nav2:"Nav3_nav2__tOdLJ",logo__title:"Nav3_logo__title__kQKPl",logo:"Nav3_logo__Izj3_",menu__links:"Nav3_menu__links__I0i_2",menu:"Nav3_menu__tZiLe",button:"Nav3_button__iPRFT",else:"Nav3_else__VAR6O",nav__links:"Nav3_nav__links__mmtn8",else__media:"Nav3_else__media__MT4_o",else__cabinet:"Nav3_else__cabinet__UYP0T",else__application:"Nav3_else__application__AkKFY",header__menu:"Nav3_header__menu__fNONO",menu__icon:"Nav3_menu__icon__phYtO",tool__bar:"Nav3_tool__bar__08_GE"}},4649:function(e){e.exports={modal:"modalApplication_modal__kwZ3r",close:"modalApplication_close__rRtaD",image:"modalApplication_image__Cqlmo",title__logo:"modalApplication_title__logo__iSPYY",modal__form:"modalApplication_modal__form__8KldR",title:"modalApplication_title__9yuv2",modal__grid:"modalApplication_modal__grid__ZzC1D",input__card:"modalApplication_input__card__hDcsw",form__span:"modalApplication_form__span__GtlBK",span:"modalApplication_span__vLvpW",form__input:"modalApplication_form__input__VW1z1",text:"modalApplication_text__0s3kJ",form__btn:"modalApplication_form__btn__mrUF8"}}},function(e){e.O(0,[417,119,567,182,774,888,179],(function(){return n=3962,e(e.s=n);var n}));var n=e.O();_N_E=n}]);